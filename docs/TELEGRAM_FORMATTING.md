# üì± –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –≤ Telegram Bot

## –ü—Ä–æ–±–ª–µ–º–∞

–í Telegram –µ—Å—Ç—å –¥–≤–∞ —Å–ø–æ—Å–æ–±–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞: Markdown –∏ HTML. –û–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ-—Ä–∞–∑–Ω–æ–º—É –∏ —Ç—Ä–µ–±—É—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞.

## –†–µ—à–µ–Ω–∏–µ

### –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Markdown (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```python
# ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û
message = (
    "üéâ *–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!*\n\n"  # –ñ–∏—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç - –æ–¥–Ω–∞ –∑–≤–µ–∑–¥–æ—á–∫–∞
    "–≠—Ç–æ _–∫—É—Ä—Å–∏–≤_\n"                # –ö—É—Ä—Å–∏–≤ - –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ
    "–≠—Ç–æ `–∫–æ–¥`\n"                    # –ö–æ–¥ - –æ–±—Ä–∞—Ç–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏
)

await message.answer(text=message, parse_mode="Markdown")
```

```python
# ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
message = (
    "üéâ **–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!**\n\n"  # –î–í–ï –∑–≤–µ–∑–¥–æ—á–∫–∏ - –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!
    "–≠—Ç–æ __–∫—É—Ä—Å–∏–≤__\n"               # –î–≤–æ–π–Ω–æ–µ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ - –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!
)
```

### –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTML

```python
# ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û
message = (
    "üéâ <b>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</b>\n\n"  # –ñ–∏—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç
    "–≠—Ç–æ <i>–∫—É—Ä—Å–∏–≤</i>\n"               # –ö—É—Ä—Å–∏–≤
    "–≠—Ç–æ <code>–∫–æ–¥</code>\n"            # –ö–æ–¥
)

await message.answer(text=message, parse_mode="HTML")
```

## –¢–∞–±–ª–∏—Ü–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

| –≠—Ñ—Ñ–µ–∫—Ç | Markdown | HTML |
|--------|----------|------|
| **–ñ–∏—Ä–Ω—ã–π** | `*—Ç–µ–∫—Å—Ç*` | `<b>—Ç–µ–∫—Å—Ç</b>` |
| _–ö—É—Ä—Å–∏–≤_ | `_—Ç–µ–∫—Å—Ç_` | `<i>—Ç–µ–∫—Å—Ç</i>` |
| `–ú–æ–Ω–æ—à–∏—Ä–∏–Ω–Ω—ã–π` | `` `—Ç–µ–∫—Å—Ç` `` | `<code>—Ç–µ–∫—Å—Ç</code>` |
| ~~–ó–∞—á–µ—Ä–∫–Ω—É—Ç—ã–π~~ | `~—Ç–µ–∫—Å—Ç~` | `<s>—Ç–µ–∫—Å—Ç</s>` –∏–ª–∏ `<strike>—Ç–µ–∫—Å—Ç</strike>` |
| [–°—Å—ã–ª–∫–∞](url) | `[—Ç–µ–∫—Å—Ç](url)` | `<a href="url">—Ç–µ–∫—Å—Ç</a>` |

## –í–∞–∂–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞

### 1. –ù–ï —Å–º–µ—à–∏–≤–∞–π—Ç–µ —Ñ–æ—Ä–º–∞—Ç—ã

```python
# ‚ùå –ü–õ–û–•–û
message = "<b>–ñ–∏—Ä–Ω—ã–π</b> –∏ *—Ç–æ–∂–µ –∂–∏—Ä–Ω—ã–π*"  # –°–º–µ—à–∞–Ω–Ω–æ–µ - –º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å

# ‚úÖ –•–û–†–û–®–û  
message = "<b>–ñ–∏—Ä–Ω—ã–π</b> –∏ <b>—Ç–æ–∂–µ –∂–∏—Ä–Ω—ã–π</b>"  # –û–¥–∏–Ω —Ñ–æ—Ä–º–∞—Ç
```

### 2. –í—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ parse_mode

```python
# ‚ùå –ü–õ–û–•–û
await message.answer("*–ü—Ä–∏–≤–µ—Ç*")  # –ë–µ–∑ parse_mode –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç

# ‚úÖ –•–û–†–û–®–û
await message.answer("*–ü—Ä–∏–≤–µ—Ç*", parse_mode="Markdown")
```

### 3. Escape —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã

–í Markdown –Ω—É–∂–Ω–æ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞—Ç—å: `_`, `*`, `[`, `]`, `(`, `)`, `~`, `` ` ``, `>`, `#`, `+`, `-`, `=`, `|`, `{`, `}`, `.`, `!`

```python
# ‚ùå –ü–õ–û–•–û
message = "–¶–µ–Ω–∞: *100_000* —Ä—É–±–ª–µ–π"  # –ü–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ —Å–ª–æ–º–∞–µ—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

# ‚úÖ –•–û–†–û–®–û
message = "–¶–µ–Ω–∞: *100\\_000* —Ä—É–±–ª–µ–π"  # –≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ
```

–í HTML –Ω—É–∂–Ω–æ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞—Ç—å: `<`, `>`, `&`

```python
# ‚ùå –ü–õ–û–•–û  
message = "<b>A > B</b>"  # –°–ª–æ–º–∞–µ—Ç HTML

# ‚úÖ –•–û–†–û–®–û
message = "<b>A &gt; B</b>"  # –≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ >
```

## –ü—Ä–∏–º–µ—Ä—ã –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞

### –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

```python
# bot/messages.py
welcome_message = (
    "‚ú® *–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Ä–æ–∑—ã–≥—Ä—ã—à –ø—Ä–∏–∑–æ–≤!*\n\n"
    "üéÅ –£—á–∞—Å—Ç–≤—É–π—Ç–µ –≤ —Ä–æ–∑—ã–≥—Ä—ã—à–µ –∏ –≤—ã–∏–≥—Ä—ã–≤–∞–π—Ç–µ –ø–æ—Ç—Ä—è—Å–∞—é—â–∏–µ –ø—Ä–∏–∑—ã!\n\n"
    "üöÄ –ù–∞—á–Ω–∏—Ç–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–π–º–µ—Ç –≤—Å–µ–≥–æ 2-3 –º–∏–Ω—É—Ç—ã\n"
)

await message.answer(welcome_message, parse_mode="Markdown")
```

### –°–æ–æ–±—â–µ–Ω–∏–µ —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º

```python
# bot/handlers/registration.py
await message.answer(
    "üéØ *–®–∞–≥ 1 –∏–∑ 4: –í–∞—à–µ –∏–º—è*\n\n"
    "üìù –í–≤–µ–¥–∏—Ç–µ *–ø–æ–ª–Ω–æ–µ –∏–º—è* —Ç–æ—á–Ω–æ –∫–∞–∫ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ\n\n"
    "‚úÖ *–ü—Ä–∞–≤–∏–ª—å–Ω–æ:* –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á\n"
    "‚ùå *–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:* –í–∞–Ω—è, –ò–≤–∞–Ω, i.ivanov",
    reply_markup=get_name_input_keyboard(),
    parse_mode="Markdown"
)
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏:

```bash
python scripts/check_telegram_formatting.py
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –Ω–∞–π–¥–µ—Ç:
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `**—Ç–µ–∫—Å—Ç**`
- –°–º–µ—à–∏–≤–∞–Ω–∏–µ HTML –∏ Markdown
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ `parse_mode`

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Markdown** –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTML** –¥–ª—è —Å–ª–æ–∂–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏, —Å—Å—ã–ª–∫–∏)
3. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ** –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º –±–æ—Ç–µ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º
4. **–ë—É–¥—å—Ç–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã** - –≤—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Telegram Bot API - Formatting](https://core.telegram.org/bots/api#formatting-options)
- [Markdown Style](https://core.telegram.org/bots/api#markdownv2-style)
- [HTML Style](https://core.telegram.org/bots/api#html-style)

---

<p align="center">
‚úÖ –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –ø—Ä–æ–µ–∫—Ç–µ —É–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ!
</p>

